@use "@carbon/styles/scss/spacing" as *;
@use "@carbon/styles/scss/theme" as *;
@use "@carbon/styles/scss/motion" as *;
@use "@carbon/styles/scss/breakpoint" as *;

.sidenav-container {
  height: 100%;
  position: fixed;
  top: 3rem;
  left: 0;
  z-index: 1000;

  &--collapsed {
    width: 3rem;
  }
}

:host ::ng-deep {
  .#{$prefix}--side-nav {
    position: relative;
    top: 0;
    left: 0;
    width: 16rem;
    height: calc(100vh - 3rem);
    color: $text-primary;
    background-color: $layer-01;
    border-right: 1px solid $border-subtle;
    transition: width $duration-moderate-01 motion(standard, productive);
    overflow: auto;

    &--expanded {
      width: 16rem;
    }

    &--rail {
      width: 3rem;
    }
  }

  // Fix sidenav item styling
  .#{$prefix}--side-nav__item {
    height: auto;

    &:hover {
      background-color: $layer-hover;
    }

    &--active {
      background-color: $layer-selected;
    }
  }

  // Fix link styling
  .#{$prefix}--side-nav__link {
    min-height: 2rem;
    padding: $spacing-03 $spacing-05;

    &:focus {
      outline: 2px solid $focus;
      outline-offset: -2px;
    }
  }
}

@include breakpoint-down(md) {
  .sidenav-container {
    transform: translateX(-100%);

    &--collapsed {
      transform: translateX(0);
    }
  }
}
